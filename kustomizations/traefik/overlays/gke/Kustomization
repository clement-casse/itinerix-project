apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: traefik

bases:
- ../../base

secretGenerator:
- name: traefik-acme
  literals:
  - ACME_EMAIL=casse.clement@outlook.com

- name: traefik-htpasswd-dashboard
  behavior: replace
  files:
  - traefik/users


patchesStrategicMerge:
- traefik-otel-agent.yaml
- traefik-letsencrypt.yaml
- tls-ingress-route.yaml

images:
- name: jaegertracing/jaeger-agent
  newName: jaegertracing/jaeger-opentelemetry-agent
  newTag: latest
