apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

generatorOptions:
  # Disable the suffix hash because secrets are used by CRD whose 
  # fields cannot be generated by Kustomize (middleware.traefik.containo.us/v1alpha1)
  disableNameSuffixHash: true

secretGenerator:
- name: traefik-htpasswd-dashboard
  files:
  - secrets/users

resources:
- deployment.yaml
- service.yaml
- rbac.yaml
- ingress-route.yaml
- middlewares.yaml
- service-monitor.yaml
